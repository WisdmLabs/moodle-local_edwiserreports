define(["jquery","core/str","report_elucidsitereport/variables"],function(a,e,t){var r=JSON.stringify({type:"lps"}),s="report_elucidsitereport",l='.lp-table [name^="customReportSelect-"]',n=a("#wdm-lpdetailedreport-form"),o=e.get_strings([{key:"searchlps",component:s},{key:"nolearningprograms",component:s}]),c=t.requestUrl+"?action=get_customreport_selectors_ajax&sesskey="+M.cfg.sesskey+"&filter="+r;o.then(function(){var e={columns:[{data:"select"},{data:"fullname"},{data:"shortname"},{data:"startdate"},{data:"enddate"},{data:"duration"}],language:{searchPlaceholder:M.util.get_string("searchlps",s),emptyTable:M.util.get_string("nolearningprograms",s)}};a("#wdm-lplist-table").DataTable({ajax:c,columns:e.columns,language:e.language,responsive:!0,scrollY:"380px",scroller:{loadingIndicator:!0},scrollCollapse:!0,scrollX:!0,paging:!1,bInfo:!1,bSort:!1}).columns.adjust(),a(document).on("change",'input[name="selectAllCustom"]',function(e){a(e.target).is(":checked")?a(l).prop("checked",!0):a(l).prop("checked",!1)}),a(document).on("click","#wdm-lpdetailedreport",function(e){if(!a(l+":checked").length)return a(panel).find("#errorMsg").addClass("show").removeClass("hide"),setTimeout(function(){a(panel).find("#errorMsg").addClass("hide").removeClass("show")},5e3),!1;filters=[],a(l+":checked").each(function(e,t){filters.push(a(t).data("id"))}),n.find("input[name=filters]").val(filters.join(","))})})});