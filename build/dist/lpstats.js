define(["jquery","core/templates","core/fragment","report_elucidsitereport/variables","report_elucidsitereport/select2","report_elucidsitereport/jquery.dataTables","report_elucidsitereport/dataTables.bootstrap4"],function(u,p,f,e){return{init:function(o){var e="#wdm-lpstats-individual",t="#wdm-lp-select",r=e+" .table",i=e+" .loader",n=u("#wdm-userfilter .row .col-6:first-child"),d=u(e).find("#wdm-lp-dropdown"),l=null,a=0,c="#cohortfilter";function s(e,t){l&&(l.destroy(),u(r).hide(),u(i).show()),f.loadFragment("report_elucidsitereport","lpstats",o,{lpid:e,cohortid:t}).done(function(e){var t=JSON.parse(e);p.render("report_elucidsitereport/lpstatsinfo",t).then(function(e,t){p.replaceNode(r,e,t)}).fail(function(e){console.log(e)}).always(function(){u(r).show(),l=u(r).DataTable({dom:"<'pull-left'f><t><p>",oLanguage:{sEmptyTable:"No Learning Program are available"},responsive:!0}),u(i).hide()})})}u(document).ready(function(){n.html(d.html()),u(document).find(t).select2(),u(document).find(t).show(),d.remove();var e=u(document).find(t).val();s(e,a),u("#cohortfilter ~ .dropdown-menu .dropdown-item").on("click",function(){a=u(this).data("cohortid"),u(c).html(u(this).text()),s(e,a)}),u(document).find(t).on("change",function(){u(r).hide(),u(i).show(),s(e=u(document).find(t).val(),a)})})}}});