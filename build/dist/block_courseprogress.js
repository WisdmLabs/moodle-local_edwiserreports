define(["jquery","core/chartjs","report_elucidsitereport/defaultconfig"],function(t,n,l){return{init:function(){var r=l.getPanel("#courseprogressblock"),e=l.getPanel("#courseprogressblock","body"),s=(l.getPanel("#courseprogressblock","header"),l.getPanel("#courseprogressblock","footer"),e+" #wdm-courseprogress-select"),a=e+" .ct-chart",c=e+" .loader";function o(){t(document).ready(function(e){var o=e(s).val();e.ajax({url:l.requestUrl,type:"GET",dataType:"json",data:{action:"get_courseprogress_graph_data_ajax",sesskey:e(r).data("sesskey"),data:JSON.stringify({courseid:o})}}).done(function(e){l.courseProgressBlock.graph.data=e.data}).fail(function(e){console.log(e)}).always(function(){!function(){var e={labels:l.courseProgressBlock.graph.labels,datasets:[{label:l.courseProgressBlock.graph.label,data:l.courseProgressBlock.graph.data,backgroundColor:l.courseProgressBlock.graph.backgroundColor}]};myPieChart=new n(l.courseProgressBlock.ctx,{data:e,type:l.courseProgressBlock.graph.type,options:l.courseProgressBlock.graph.options})}(),e(c).addClass("d-none"),e(a).removeClass("d-none")})})}t(s).on("change",function(){t(a).addClass("d-none"),t(c).removeClass("d-none"),o()}),o()}}});