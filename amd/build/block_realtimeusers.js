define(["jquery","report_elucidsitereport/defaultconfig","report_elucidsitereport/jquery.dataTables","report_elucidsitereport/dataTables.bootstrap4"],(function(e,t){var a=null,l=t.getPanel("#liveusersblock"),r=t.getPanel("#liveusersblock","body"),s=e(r+" .loader"),o=e(r+" .table"),n=null;function i(){e.ajax({url:t.requestUrl,type:t.requestType,dataType:t.requestDataType,data:{action:"get_liveusers_data_ajax",sesskey:e(l).data("sesskey")}}).done((function(t){!function(t){a?a.destroy():(s.hide(),o.show());a=o.DataTable({data:t,dom:'<"row rtblock-filter"<"pull-left"f>><t>',language:{searchPlaceholder:"Search Users"},aaSorting:[[1,"asc"]],columnDefs:[{targets:0,className:"text-left"},{targets:1,className:"text-center"},{targets:2,className:"text-center",orderable:!1}],scrollY:"200px",scrollCollapse:!0,fixedHeader:{header:!0,headerOffset:45},scrollX:!0,paging:!1,bInfo:!1,initComplete:function(){var a='<small class="ml-auto my-auto font-weight-bold">LoggedIn Users : '+t.length+"</small>";e(document).find(".rtblock-filter").append(a)}})}(t.data)})).fail((function(e){console.log(e)})).always((function(){n("realTimeUsers"),setTimeout(i,12e4)}))}return{init:function(e){n=e,i()}}}));