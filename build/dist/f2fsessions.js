define(["jquery","core/modal_factory","core/modal_events","core/fragment","core/templates","report_elucidsitereport/variables","report_elucidsitereport/common"],function(c,e,t,o,d,l){return{init:function(e){var o="#wdm-f2fsessions-individual",r=o+" .table",n=o+" .loader",a=c(o).data("sesskey"),t=0,i="#cohortfilter";function s(e){c.ajax({url:l.requestUrl,type:l.requestType,dataType:l.requestDataType,data:{action:"get_f2fsession_data_ajax",sesskey:a,data:JSON.stringify({cohortid:e})}}).done(function(e){var t=e.data;t.sesskey=a,d.render("report_elucidsitereport/f2fsessions",t).then(function(e,t){d.replaceNode(o,e,t)}).fail(function(e){console.log(e)}).always(function(){c(r).show(),c(n).hide()})}).fail(function(e){console.log(e)})}c(document).ready(function(){s(t),c("#cohortfilter ~ .dropdown-menu .dropdown-item").on("click",function(){c(r).hide(),c(n).show(),t=c(this).data("cohortid"),l.changeExportUrl(t,l.exportUrlLink,l.cohortReplaceFlag),c(i).html(c(this).text()),s(t)})})}}});