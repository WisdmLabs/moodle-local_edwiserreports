<div id="customQueryReportBlock" data-sesskey="{{sesskey}}">
    <div class="panel h-auto mb-0">
        <div class="panel-header clearfix">
            <div class="panel-title px-0">
                <strong>
                    {{#str}} customqueryreport, report_elucidsitereport {{/str}}
                </strong>
            </div>
        </div>
        <div class="panel-body">
          <div id="edw_custom_reporttype" class="col-12 px-0 text-right">
              <div class="btn-group" data-toggle="buttons" role="group">
                  <label class="btn btn-outline btn-primary active">
                      <input type="radio" name="reporttype" autocomplete="off" value="courses" checked="" class="d-none">
                      {{#str}} course, report_elucidsitereport {{/str}}
                  </label>
                  <label class="btn btn-outline btn-primary">
                      <input type="radio" name="reporttype" autocomplete="off" value="activities" class="d-none">
                      {{#str}} activity, report_elucidsitereport {{/str}}
                  </label>
              </div>
          </div>
        	<div class="row">
                {{#hasrpmanagers}}
        		<div class="col-md-4">
		        	<label>Reporting Managers</label>
		          	<select id="ed_rpm" class="js-states form-control select25">
		          		<option value="0">All</option>
		          		{{#rpmgrs}}
			            <option value="{{id}}">
                    {{{uname}}}
                  </option>
			            {{/rpmgrs}}
		          	</select>
		        </div>
                {{/hasrpmanagers}}
		        <div class="col-md-4">
		          	<label>Learning Programs</label>
		          	<select id="ed_lps" class="js-states form-control select25">
		          		{{> report_elucidsitereport/customquery_lpoptions}}
		          	</select>
		        </div>
		        <div class="col-md-4">
		          	<label>Courses</label>
		          	<select id="ed_courses" class="js-states form-control select25">
			            {{> report_elucidsitereport/customquery_options}}
		          	</select>
		        </div>
                <div class="col-md-12 row px-0 mx-0 mt-2">
                    {{> report_elucidsitereport/customquery_cohortoptions }}
		            </div>
          	</div>
          	<div class="row mx-0">
          		<div class="mr-25 mt-25 pl-15">
          			<label>{{#str}} enrolmentrangeselector, report_elucidsitereport {{/str}}</label>
          			<div class="form-group w-250 mb-0">
                        <div class="input-search input-search-dark">
                            <input type="text" id="customqueryenrollstart" placeholder="{{#str}} selectdate, report_elucidsitereport{{/str}}" class="form-control rounded w-full" data-input/>
                            <button type="button" class="input-search-close icon wb-close" aria-label="Close"></button>
                        </div>
                        <div class="input-search input-search-dark mt-10">
                            <input type="text" id="customqueryenrollend" placeholder="{{#str}} selectdate, report_elucidsitereport{{/str}}" class="form-control rounded w-full" data-input/>
                            <button type="button" class="input-search-close icon wb-close" aria-label="Close"></button>
                        </div>
                    </div>
          		</div>
          		<div class="mr-25 mt-25 pl-25">
          			<label>{{#str}} completionrangeselector, report_elucidsitereport {{/str}}</label>
          			<div class="form-group w-250 mb-0">
                        <div class="input-search input-search-dark">
                            <input type="text" id="customquerycompletionstart" placeholder="{{#str}} selectdate, report_elucidsitereport{{/str}}" class="form-control rounded w-full" data-input/>
                            <button type="button" class="input-search-close icon wb-close" aria-label="Close"></button>
                        </div>
                        <div class="input-search input-search-dark mt-10">
                            <input type="text" id="customquerycompletionend" placeholder="{{#str}} selectdate, report_elucidsitereport{{/str}}" class="form-control rounded w-full" data-input/>
                            <button type="button" class="input-search-close icon wb-close" aria-label="Close"></button>
                        </div>
                    </div>
          		</div>
          	</div>
          	<div class="row mt-25">
          		<div class="col-md-4">
	          		<label>{{#str}} reportfields, report_elucidsitereport {{/str}}</label>
          		</div>
          	</div>
            <div class="userfields example-wrap reportfields">
              <h5 class="example-title">
                <strong> {{#str}} userfields, report_elucidsitereport {{/str}} </strong>
                <a class="unselect-userfields pull-right text-sm" href="javascript:void(0)">
                    <small>{{#str}} unselectall, report_elucidsitereport {{/str}}</small>
                </a>
                <a class="select-userfields pull-right text-sm hidden" href="javascript:void(0)">
                    <small>{{#str}} selectall, report_elucidsitereport {{/str}}</small>
                </a>
              </h5>
              <div class="row">
                {{#reportfields.userfields}}
                <div class="{{key}} col-md-3">
                    <div class="checkbox-custom checkbox-primary">
                      <input type="checkbox" id="{{key}}" {{#disbaled}}disabled{{/disbaled}} checked>
                      <label for="{{key}}">{{value}}</label>
                    </div>
                </div>
                {{/reportfields.userfields}}
              </div>
            </div>
            <div class="coursefields example-wrap reportfields">
                <h5 class="example-title">
                    <strong> {{#str}} coursefields, report_elucidsitereport {{/str}} </strong>
                    <a class="unselect-coursefields pull-right text-sm" href="javascript:void(0)">
                        <small>{{#str}} unselectall, report_elucidsitereport {{/str}}</small>
                    </a>
                    <a class="select-coursefields pull-right text-sm hidden" href="javascript:void(0)">
                        <small>{{#str}} selectall, report_elucidsitereport {{/str}}</small>
                    </a>
                </h5>
            	<div class="row">
            		{{#reportfields.coursefields}}
            		<div class="{{key}} col-md-3">
            			<div class="checkbox-custom checkbox-primary">
  	                  <input type="checkbox" id="{{key}}" {{#disbaled}}disabled{{/disbaled}} checked>
  	                  <label for="{{key}}">{{value}}</label>
  	                </div>
            		</div>
            		{{/reportfields.coursefields}}
            	</div>
            </div>

            <div class="lpreportfields example-wrap reportfields">
              <h5 class="example-title">
                  <strong> {{#str}} lpfields, report_elucidsitereport {{/str}} </strong>
                  <a class="unselect-lpreportfields pull-right text-sm" href="javascript:void(0)">
                  <small>{{#str}} unselectall, report_elucidsitereport {{/str}}</small>
                  </a>
                  <a class="select-lpreportfields pull-right text-sm hidden" href="javascript:void(0)">
                      <small>{{#str}} selectall, report_elucidsitereport {{/str}}</small>
                  </a>
              </h5>
              <div class="lpfields row">
                {{#reportfields.lpfields}}
                <div class="{{key}} col-md-3">
                  <div class="checkbox-custom checkbox-primary">
                      <input type="checkbox" id="{{key}}" {{#disbaled}}disabled{{/disbaled}} checked>
                      <label for="{{key}}">{{value}}</label>
                    </div>
                </div>
                {{/reportfields.lpfields}}
              </div>
            </div>

            {{^isreportingmanager}}
            <div class="rpmreportfields example-wrap reportfields">
              <h5 class="example-title">
                <strong> {{#str}} rpfields, report_elucidsitereport {{/str}} </strong>
                <a class="unselect-rpmreportfields pull-right text-sm" href="javascript:void(0)">
                  <small>{{#str}} unselectall, report_elucidsitereport {{/str}}</small>
                </a>
                <a class="select-rpmreportfields pull-right text-sm hidden" href="javascript:void(0)">
                    <small>{{#str}} selectall, report_elucidsitereport {{/str}}</small>
                </a>
              </h5>
              <div class="rpmfields row">
                  {{#reportfields.rpmfields}}
                  <div class="{{key}} col-md-3">
                    <div class="checkbox-custom checkbox-primary">
                        <input type="checkbox" id="{{key}}" {{#disbaled}}disabled{{/disbaled}} checked>
                        <label for="{{key}}">{{value}}</label>
                      </div>
                  </div>
                  {{/reportfields.rpmfields}}
              </div>
            </div>
          {{/isreportingmanager}}
          	<div class="row">
              <div class="col-md-3">
            		<div class="text-right mt-30">
                      <form action="{{downloadurl}}" target="_blank" method="post" id="customQueryReportsForm">
                          <input type="hidden" name="reportingmanagers">
                          <input type="hidden" name="lps">
                          <input type="hidden" name="courses">
                          <input type="hidden" name="enrolstartdate"/>
                          <input type="hidden" name="enrolenddate"/>
                          <input type="hidden" name="completionstartdate"/>
                          <input type="hidden" name="completionenddate"/>
                          <input type="hidden" name="reporttype"/>
                          <input type="hidden" name="filters"/>
                          <input type="hidden" name="checkedFields"/>
                          <input type="hidden" name="cohortids"/>
                          <input type="hidden" name="userids"/>
                          <button type="submit" id="customQueryReportDownload" class="btn btn-secondary">
                              {{#str}} downloadreportincsv , report_elucidsitereport {{/str}}
                          </button>
                      </form>
                </div>
              </div>
              <div class="col-md-5 mt-30">
                <div class="coursealert alert alert-danger hidden" role="alert">
                  <button type="button" class="close" data-hide="alert" aria-label="Close">
                    <span aria-hidden="true">×</span>
                  </button>
                  {{#str}} selectatleastonecvourse, report_elucidsitereport {{/str}}
                </div>
                <div class="enroldatealert alert alert-danger hidden" role="alert">
                  <button type="button" class="close" data-hide="alert" aria-label="Close">
                    <span aria-hidden="true">×</span>
                  </button>
                  {{#str}} enroldatealert, report_elucidsitereport {{/str}}
                </div>
                <div class="completiondatealert alert alert-danger hidden" role="alert">
                  <button type="button" class="close" data-hide="alert" aria-label="Close">
                    <span aria-hidden="true">×</span>
                  </button>
                  {{#str}} completiondatealert, report_elucidsitereport {{/str}}
                </div>
              </div>
          	</div>
        </div>
    </div>
</div>

{{#js}}
require(['report_elucidsitereport/block_queryreport'], function ($) {
});
{{/js}}