define(["jquery","core/modal_factory","core/modal_events","core/fragment","core/templates","report_elucidsitereport/variables","report_elucidsitereport/jquery.dataTables","report_elucidsitereport/dataTables.bootstrap4"],function(o,c,n,i,l,e){return{init:function(s){o(document).ready(function(){var r="#wdm-courseprogress-individual",a=r+" .table";o.ajax({url:e.requestUrl,data:{action:"get_courseprogress_graph_data_ajax",sesskey:o(r).data("sesskey"),data:JSON.stringify({courseid:"all"})}}).done(function(e){var t={courseprogress:e};l.render("report_elucidsitereport/courseprogress",t).then(function(e,t){l.replaceNode(r,e,t)}).fail(function(e){console.log(e)}).always(function(){o(a).DataTable({order:[[0,"desc"]],columnDefs:[{targets:0},{targets:1,className:"text-center"},{targets:2,className:"text-center"},{targets:3,className:"text-center"},{targets:4,className:"text-center"},{targets:5,className:"text-center"},{targets:6,className:"text-center"},{targets:7,className:"text-center"}]}),o(a).removeClass("d-none"),o("#wdm-courseprogress-individual .loader").remove()})}).fail(function(e){console.log(e)}),o(document).on("click","#wdm-courseprogress-individual .table a",function(){var e=o(this).data("action"),t=o(this).data("courseid"),r=o(this).data("coursename"),a=null;c.create({body:i.loadFragment("report_elucidsitereport","userslist",s,{page:"courseprogress",courseid:t,action:e})}).then(function(e){a=e.getRoot(),e.setTitle(r),e.show(),a.on(n.hidden,function(){e.destroy()})})})})}}});