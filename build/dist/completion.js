define(["jquery","report_elucidsitereport/variables","report_elucidsitereport/common"],(function(t,e){return{init:function(a){var o=t("#wdm-completion-individual"),r=o.find(".table"),l=o.find(".loader"),n=null,i=0;function s(a,i){n&&(n.destroy(),r.hide(),l.show());var s={action:"get_completion_data_ajax",sesskey:o.data("sesskey"),data:JSON.stringify({courseid:a,cohortid:i})},c=e.generateUrl(e.requestUrl,s);r.show(),n=r.DataTable({ajax:c,dom:"<'pull-left'f><t><p>",oLanguage:{sEmptyTable:"No users are enrolled as student"},columns:[{data:"username"},{data:"enrolledon"},{data:"enrolltype"},{data:"noofvisits"},{data:"completion"},{data:"compleiontime"},{data:"grade"},{data:"lastaccess"}],columnDefs:[{className:"text-left",targets:0},{className:"text-left",targets:1},{className:"text-center",targets:"_all"}],initComplete:function(){t(l).hide()},scrollY:350,scrollX:!0,paginate:!1})}t(document).ready((function(){var a=e.getUrlParameter("courseid");s(a,i),t(e.cohortFilterItem).on("click",(function(){i=t(this).data("cohortid"),t(e.cohortFilterBtn).html(t(this).text()),e.changeExportUrl(i,e.exportUrlLink,e.cohortReplaceFlag),s(a,i)}))}))}}}));