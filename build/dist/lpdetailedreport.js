define(["jquery","core/str","report_elucidsitereport/variables"],(function(e,t,a){var r=JSON.stringify({type:"lps"}),s="report_elucidsitereport",l='.lp-table [name^="customReportSelect-"]',n=e("#wdm-lpdetailedreport-form"),o=t.get_strings([{key:"searchlps",component:s},{key:"nolearningprograms",component:s}]),c=a.requestUrl+"?action=get_customreport_selectors_ajax&sesskey="+M.cfg.sesskey+"&filter="+r;o.then((function(){var t={columns:[{data:"select"},{data:"fullname"},{data:"shortname"},{data:"startdate"},{data:"enddate"},{data:"duration"}],language:{searchPlaceholder:M.util.get_string("searchlps",s),emptyTable:M.util.get_string("nolearningprograms",s)}};e("#wdm-lplist-table").DataTable({ajax:c,columns:t.columns,language:t.language,responsive:!0,scrollY:"380px",scroller:{loadingIndicator:!0},scrollCollapse:!0,scrollX:!0,paging:!1,bInfo:!1,bSort:!1}).columns.adjust(),e(document).on("change",'input[name="selectAllCustom"]',(function(t){e(t.target).is(":checked")?e(l).prop("checked",!0):e(l).prop("checked",!1)})),e(document).on("click","#wdm-lpdetailedreport",(function(t){if(!e(l+":checked").length)return e(panel).find("#errorMsg").addClass("show").removeClass("hide"),setTimeout((function(){e(panel).find("#errorMsg").addClass("hide").removeClass("show")}),5e3),!1;filters=[],e(l+":checked").each((function(t,a){filters.push(e(a).data("id"))})),n.find("input[name=filters]").val(filters.join(","))}))}))}));