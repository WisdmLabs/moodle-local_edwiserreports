define(["jquery","core/modal_factory","core/modal_events","core/fragment","core/templates","report_elucidsitereport/variables","report_elucidsitereport/common"],function(s,e,o,t,c,l){return{init:function(e){var r="#wdm-f2fsessions-individual",n=r+" .table",a=r+" .loader",i=s(r).data("sesskey"),o=0,t="#cohortfilter";function d(t){s.ajax({url:l.requestUrl,type:l.requestType,dataType:l.requestDataType,data:{action:"get_f2fsession_data_ajax",sesskey:i,data:JSON.stringify({cohortid:t})}}).done(function(e){var o=e.data;o.sesskey=i,c.render("report_elucidsitereport/f2fsessions",o).then(function(e,o){c.replaceNode(r,e,o)}).fail(function(e){console.log(e)}).always(function(){s(n).show(),s(a).hide(),l.changeExportUrl(t,".dropdown-menu[aria-labelledby='export-dropdown'] .dropdown-item","C")})}).fail(function(e){console.log(e)})}s(document).ready(function(){d(o),s("#cohortfilter ~ .dropdown-menu .dropdown-item").on("click",function(){s(n).hide(),s(a).show(),o=s(this).data("cohortid"),s(t).html(s(this).text()),d(o)})})}}});