"use strict";define(["jquery","core/ajax","local_edwiserreports/jquery.dataTables","local_edwiserreports/dataTables.bootstrap4"],function(e,s){var t=".field .custom-field-checkbox",o=".reports-filter-body .custom-field-select",a="#wdm-cohort-select",l="#wdm-course-select",r=null,n={selector:".reports-preview-body .reports-preview-content.loader",show:function(){e(this.selector).removeClass("d-none").addClass("d-flex")},hide:function(){e(this.selector).removeClass("d-flex").addClass("d-none")}},d={selector:".reports-preview-body .reports-preview-content",show:function(){e(this.selector+":not(.loader)").removeClass("d-none").addClass("d-flex"),e(this.selector+".empty").removeClass("d-flex").addClass("d-none"),n.hide()},hide:function(){e(this.selector+":not(.loader)").removeClass("d-flex").addClass("d-none"),e(this.selector+".empty").removeClass("d-flex").addClass("d-none"),n.show()},empty:function(){e(this.selector+".empty").removeClass("d-none").addClass("d-flex"),e(this.selector+":not(.empty)").removeClass("d-flex").addClass("d-none"),n.hide()}};function i(){var o=[];e(t+":checked").each(function(){o.push(e(this).val())});var n=s.call([{methodname:"local_edwiserreports_get_customreports_data",args:{params:JSON.stringify({fields:o,cohort:e(a).val(),courses:[e(l).val()]})}}]);0==o.length?d.empty():(d.hide(),n[0].done(function(s){if(s.success){r&&(r.clear().destroy(),e("#cr-preview-table").html(""));var t=JSON.parse(s.data);console.log(t),r=e("#cr-preview-table").DataTable({columns:t.columns,data:t.reportsdata,bInfo:!1,bFilter:!1,searching:!1,lengthChange:!1,drawCallback:function(){e(".dataTables_paginate > .pagination").addClass("pagination-sm pull-right"),e(".dataTables_filter").addClass("pagination-sm pull-right")}})}}).always(function(){d.show()}))}return{init:function(){e(document).ready(function(){e(t).on("change",function(){i()}),e(o).on("change",function(){i()})})}}});
//# sourceMappingURL=customreportsblock.min.js.map
