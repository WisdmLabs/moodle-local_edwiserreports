define(["jquery","core/chartjs","report_elucidsitereport/defaultconfig"],(function(t,a,o){return{init:function(i){var e,c=o.getPanel("#todaysactivityblock"),y=o.getPanel("#todaysactivityblock","body"),d=c+" #flatpickrCalender";function n(d){var n=t(c).data("sesskey");t.ajax({url:o.requestUrl,type:o.requestType,dataType:o.requestDataType,data:{action:"get_todaysactivity_data_ajax",sesskey:n,data:JSON.stringify({date:d})}}).done((function(i){t.each(i.data,(function(a,o){t(y+" #todays-"+a).find(".data").html(o)})),function(t){o.todaysActivityBlock.graph.data=t;t={labels:o.todaysActivityBlock.graph.labels,datasets:[{label:o.todaysActivityBlock.graph.labelName,data:o.todaysActivityBlock.graph.data,backgroundColor:o.todaysActivityBlock.graph.backgroundColor}]};e&&e.destroy();e=new a(o.todaysActivityBlock.ctx,{type:o.todaysActivityBlock.graph.type,options:o.todaysActivityBlock.graph.options,data:t})}(i.data.visitshour)})).fail((function(t){console.log(t)})).always((function(){i("todaysActivity")}))}t(document).ready((function(){o.todaysActivityBlock=o.getTodaysActivityBlock(),o.todaysActivityBlock?(n(),t(d).flatpickr({dateFormat:"d M Y",maxDate:"today",defaultDate:["today"],onChange:function(t,a,o){n(a)}})):i("todaysActivity")}))}}}));