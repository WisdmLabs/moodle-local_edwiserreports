define(["jquery","report_elucidsitereport/variables","report_elucidsitereport/jquery.dataTables","report_elucidsitereport/dataTables.bootstrap4"],function(c,l){return{init:function(e){var a=c("#wdm-courseanalytics-individual"),r=a.find(".recent-visits .table"),n=a.find(".recent-enrolment .table"),s=a.find(".recent-completion .table"),o=a.find(".loader");function i(e,t){var a="No users has Enrolled in the course";c(e).show(),e==s&&(a="No users has completed any course"),e.DataTable({data:t,oLanguage:{sEmptyTable:a},columnDefs:[{className:"text-left",targets:0},{className:"text-center",targets:"_all"}],order:[[1,"desc"]],initComplete:function(){c(o).hide()},bInfo:!1,searching:!1})}c(document).ready(function(){var e=a.data("sesskey"),t=l.getUrlParameter("courseid");c.ajax({url:l.requestUrl,type:l.requestType,dataType:l.requestDataType,data:{action:"get_courseanalytics_data_ajax",sesskey:e,data:JSON.stringify({courseid:t})}}).done(function(e){i(r,e.data.recentvisits),i(n,e.data.recentenrolments),i(s,e.data.recentcompletions)}).fail(function(e){console.log(e)})})}}});