define(["jquery","core/chartjs","report_elucidsitereport/defaultconfig"],function(c,n,t){return{init:function(){var o=t.getPanel("#courseprogressblock","body"),r=(t.getPanel("#courseprogressblock","header"),t.getPanel("#courseprogressblock","footer"),o+" #wdm-courseprogress-select"),a=o+" .ct-chart",s=o+" .loader";function e(){c(document).ready(function(o){var e=o(r).val();o.ajax({url:t.requestUrl,type:"GET",dataType:"json",data:{action:"get_courseprogress_graph_data_ajax",data:JSON.stringify({courseid:e})}}).done(function(o){t.courseProgressBlock.graph.data=o.data}).fail(function(o){console.log(o)}).always(function(){!function(){var o={labels:t.courseProgressBlock.graph.labels,datasets:[{label:t.courseProgressBlock.graph.label,data:t.courseProgressBlock.graph.data,backgroundColor:t.courseProgressBlock.graph.backgroundColor}]};myPieChart=new n(t.courseProgressBlock.ctx,{data:o,type:t.courseProgressBlock.graph.type,options:t.courseProgressBlock.graph.options})}(),o(s).addClass("d-none"),o(a).removeClass("d-none")})})}c(r).on("change",function(){c(a).addClass("d-none"),c(s).removeClass("d-none"),e()}),e()}}});