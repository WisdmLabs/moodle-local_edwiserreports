define(["jquery","local_sitereport/defaultconfig","local_sitereport/jquery.dataTables","local_sitereport/dataTables.bootstrap4"],(function(e,a){var t=null,l=a.getPanel("#liveusersblock"),s=a.getPanel("#liveusersblock","body"),n=e(s+" .loader"),o=e(s+" .table"),r=null;function i(){e.ajax({url:a.requestUrl,type:a.requestType,dataType:a.requestDataType,data:{action:"get_liveusers_data_ajax",sesskey:e(l).data("sesskey")}}).done((function(a){!function(a){t?t.destroy():(n.hide(),o.show());t=o.DataTable({data:a,language:{searchPlaceholder:"Search User"},aaSorting:[[1,"asc"]],columnDefs:[{targets:0,className:"text-left"},{targets:1,className:"text-center"},{targets:2,className:"text-center",orderable:!1}],drawCallback:function(){e(".dataTables_paginate > .pagination").addClass("pagination-sm pull-right"),e(".dataTables_filter").addClass("pagination-sm pull-right")},bInfo:!1,lengthChange:!1,initComplete:function(){var t='<small class="ml-auto my-auto font-weight-bold">LoggedIn Users : '+a.length+"</small>";e(document).find(".rtblock-filter").append(t)}})}(a.data)})).fail((function(e){console.log(e)})).always((function(){r("realTimeUsers"),setTimeout(i,12e4)}))}return{init:function(e){r=e,i()}}}));