define(["jquery","core/modal_factory","core/modal_events","core/fragment","core/templates","report_elucidsitereport/variables","report_elucidsitereport/jquery.dataTables","report_elucidsitereport/dataTables.bootstrap4"],function(s,n,d,c,e,l){return{init:function(i){s(document).ready(function(){var e="#wdm-courseengage-individual",t=e+" .table",a=e+" .loader",o=s(e).data("sesskey"),r=l.requestUrl+"?action=get_courseengage_data_ajax&sesskey="+o;s(t).DataTable({ajax:r,columns:[{data:"coursename"},{data:"enrolment"},{data:"visited"},{data:"activitystart"},{data:"completedhalf"},{data:"coursecompleted"}],columnDefs:[{className:"text-left",targets:0},{className:"text-center modal-trigger",targets:"_all"}],initComplete:function(){console.log(a),s(a).hide()}}),s(document).on("click","#wdm-courseengage-individual .table a.modal-trigger",function(){var e=s(this).data("action"),t=s(this).data("courseid"),a=s(this).data("coursename"),o=null;n.create({body:c.loadFragment("report_elucidsitereport","userslist",i,{page:"courseengage",courseid:t,action:e})}).then(function(e){o=e.getRoot(),e.setTitle(a),e.show(),o.on(d.hidden,function(){e.destroy()})})})})}}});