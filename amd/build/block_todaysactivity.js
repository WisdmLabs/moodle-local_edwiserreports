define(["jquery","core/chartjs","report_elucidsitereport/defaultconfig"],function(n,c,r){return{init:function(){var o,e=r.getPanel("#todaysactivityblock"),d=r.getPanel("#todaysactivityblock","body"),t=e+" #flatpickrCalender";function i(t){var a=n(e).data("sesskey");n.ajax({url:r.requestUrl,type:r.requestType,dataType:r.requestDataType,data:{action:"get_todaysactivity_data_ajax",sesskey:a,data:JSON.stringify({date:t})}}).done(function(t){n.each(t.data,function(t,a){var o=n(d+" #todays-"+t);o.removeClass("random-counter"),o.html(a)}),function(t){r.todaysActivityBlock.graph.data=t;t={labels:r.todaysActivityBlock.graph.labels,datasets:[{label:r.todaysActivityBlock.graph.labelName,data:r.todaysActivityBlock.graph.data,backgroundColor:r.todaysActivityBlock.graph.backgroundColor}]};o&&o.destroy();o=new c(r.todaysActivityBlock.ctx,{type:r.todaysActivityBlock.graph.type,options:r.todaysActivityBlock.graph.options,data:t})}(t.data.visitshour)}).fail(function(t){console.log(t)})}n(document).ready(function(){i(),n(t).flatpickr({dateFormat:"d M Y",maxDate:"today",defaultDate:["today"],onChange:function(t,a,o){n(d+" .random").addClass("random-counter"),i(a)}});var a=0;!function t(){a=Math.round(5*Math.random()),n(d+" .random-counter").text(a),setTimeout(t,20)}()})}}});