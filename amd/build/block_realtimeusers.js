define(["jquery","report_elucidsitereport/defaultconfig","report_elucidsitereport/jquery.dataTables","report_elucidsitereport/dataTables.bootstrap4"],function(a,e){var l=null,t=e.getPanel("#liveusersblock"),r=e.getPanel("#liveusersblock","body"),s=a(r+" .loader"),o=a(r+" .table"),n=null;function i(){a.ajax({url:e.requestUrl,type:e.requestType,dataType:e.requestDataType,data:{action:"get_liveusers_data_ajax",sesskey:a(t).data("sesskey")}}).done(function(e){!function(t){l?l.destroy():(s.hide(),o.show());l=o.DataTable({data:t,dom:'<"row rtblock-filter"<"pull-left"f>><t>',language:{searchPlaceholder:"Search Users"},aaSorting:[[1,"asc"]],columnDefs:[{targets:0,className:"text-left"},{targets:1,className:"text-center"},{targets:2,className:"text-center",orderable:!1}],scrollY:"200px",scrollCollapse:!0,fixedHeader:{header:!0,headerOffset:45},scrollX:!0,paging:!1,bInfo:!1,initComplete:function(){var e='<small class="ml-auto my-auto font-weight-bold">LoggedIn Users : '+t.length+"</small>";a(document).find(".rtblock-filter").append(e)}})}(e.data)}).fail(function(e){console.log(e)}).always(function(){n("realTimeUsers"),setTimeout(i,3e4)})}return{init:function(e){n=e,i()}}});