{"version":3,"sources":["defaultconfig.js"],"names":["define","$","v","requestUrl","requestType","requestDataType","component","getTodaysActivityBlock","todaysActivityBlock","length","ctx","getContext","labelName","graph","type","options","responsive","maintainAspectRatio","aspectRatio","scales","xAxes","display","gridLines","zeroLineColor","color","ticks","fontColor","yAxes","legend","borderColor","whiteColor","backgroundColor","borderWidth","labels","clock12_0","clock12_1","clock12_2","clock12_3","clock12_4","clock12_5","clock12_6","clock12_7","clock12_8","clock12_9","clock12_10","clock12_11","clock12_12","clock12_13","clock12_14","clock12_15","clock12_16","clock12_17","clock12_18","clock12_19","clock12_20","clock12_21","clock12_22","clock12_23","data","getActiveUsersBlock","activeUsersBlock","fontFamily","fontStyle","pointStyle","showInLegend","usePointStyle","elements","beginAtZero","min","callback","value","Number","isInteger","activeUsers","enrolments","completionRate","getCourseProgressBlock","courseProgressBlock","position","tooltips","callbacks","title","tooltipItem","M","util","get_string","per","index","val","datasets","label","changeExportUrl","getLpStatsBlock","lpStatsBlock","getPanel","blockid","panel","getTemplate","template","getUrlParams","generateUrl","download","content","fileName","mimeType","a","document","createElement","navigator","msSaveBlob","Blob","URL","href","createObjectURL","setAttribute","body","appendChild","click","removeChild","location","encodeURIComponent"],"mappings":"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","sourcesContent":["define([\"jquery\", \"local_edwiserreports/variables\", \"local_edwiserreports/select2\"], function($, v) {\r\n    var defaultConfig = {\r\n        // Default Config\r\n        requestUrl: v.requestUrl,\r\n        requestType: v.requestType,\r\n        requestDataType: v.requestDataType,\r\n        component: v.component,\r\n\r\n        // Todays Activity Block\r\n        getTodaysActivityBlock: function() {\r\n            var cpBlockData = $(v.todaysActivityBlock);\r\n            if (cpBlockData.length == 0) {\r\n                return false;\r\n            }\r\n\r\n            // Return course progress graph object\r\n            return {\r\n                ctx: $(v.todaysActivityBlock)[0].getContext(\"2d\"),\r\n                labelName: \"Page Access\",\r\n                graph: {\r\n                    type: \"bar\",\r\n                    options: {\r\n                        responsive: true,\r\n                        maintainAspectRatio: false,\r\n                        aspectRatio: 1,\r\n                        scales: {\r\n                            xAxes: [{\r\n                                display: true,\r\n                                gridLines: {\r\n                                    display: false,\r\n                                    zeroLineColor: \"#FFF\",\r\n                                    color: \"#FFF\"\r\n                                },\r\n                                ticks: {\r\n                                    fontColor: \"#FFF\"\r\n                                }\r\n                            }],\r\n                            yAxes: [{\r\n                                display: false,\r\n                                gridLines: {\r\n                                    display: false,\r\n                                    zeroLineColor: \"#FFF\",\r\n                                    color: \"#FFF\"\r\n                                },\r\n                                ticks: {\r\n                                    fontColor: \"#FFF\"\r\n                                }\r\n                            }]\r\n                        },\r\n                        legend: {\r\n                            display: false\r\n                        }\r\n                    },\r\n                    borderColor: v.whiteColor,\r\n                    backgroundColor: v.whiteColor,\r\n                    borderWidth: 2,\r\n                    labels: [\r\n                        v.clock12_0, v.clock12_1, v.clock12_2,\r\n                        v.clock12_3, v.clock12_4, v.clock12_5,\r\n                        v.clock12_6, v.clock12_7, v.clock12_8,\r\n                        v.clock12_9, v.clock12_10, v.clock12_11,\r\n                        v.clock12_12, v.clock12_13, v.clock12_14,\r\n                        v.clock12_15, v.clock12_16, v.clock12_17,\r\n                        v.clock12_18, v.clock12_19, v.clock12_20,\r\n                        v.clock12_21, v.clock12_22, v.clock12_23,\r\n                    ],\r\n                    data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n                },\r\n            };\r\n        },\r\n\r\n        // Active Users Block\r\n        getActiveUsersBlock: function() {\r\n            var cpBlockData = $(v.activeUsersBlock);\r\n            if (cpBlockData.length == 0) {\r\n                return false;\r\n            }\r\n\r\n            // Return course progress graph object\r\n            return {\r\n                ctx: $(v.activeUsersBlock)[0].getContext(\"2d\"),\r\n                labelName: \"Page Access\",\r\n                graph: {\r\n                    type: \"line\",\r\n                    fontFamily: \"Open Sans\",\r\n                    fontStyle: \"bold\",\r\n                    pointStyle: \"line\",\r\n                    showInLegend: true,\r\n                    options: {\r\n                        legend: {\r\n                            labels: {\r\n                                usePointStyle: true\r\n                            }\r\n                        },\r\n                        elements: {\r\n                            borderWidth: 4\r\n                        },\r\n                        scales: {\r\n                            yAxes: [{\r\n                                ticks: {\r\n                                    beginAtZero: true,\r\n                                    min: 0,\r\n                                    callback: function(value) {\r\n                                        if (Number.isInteger(value)) {\r\n                                            return value;\r\n                                        }\r\n                                        return null;\r\n                                    }\r\n                                },\r\n                            }]\r\n                        },\r\n                        responsive: true,\r\n                        maintainAspectRatio: false,\r\n                        aspectRatio: 1\r\n                    },\r\n                    labelName: {\r\n                        activeUsers: \"Active Users\",\r\n                        enrolments: \"Course Enrolment\",\r\n                        completionRate: \"Course Completion Rate\"\r\n                    },\r\n                    backgroundColor: {\r\n                        activeUsers: \"rgba(0, 0, 0, 0)\",\r\n                        enrolments: \"rgba(0, 0, 0, 0)\",\r\n                        completionRate: \"rgba(0, 0, 0, 0)\"\r\n                    },\r\n                    borderColor: {\r\n                        activeUsers: \"rgba(255, 99, 132, 1)\",\r\n                        enrolments: \"rgba(73, 222, 148, 1)\",\r\n                        completionRate: \"rgba(62, 142, 247, 1)\"\r\n                    },\r\n                    data: {\r\n                        activeUsers: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        enrolments: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        completionRate: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Get course progress block object\r\n         * @return {object} Course progress graph object\r\n         */\r\n        getCourseProgressBlock: function() {\r\n            var cpBlockData = $(v.courseProgressBlock);\r\n            if (cpBlockData.length == 0) {\r\n                return false;\r\n            }\r\n\r\n            // Return course progress graph object\r\n            return {\r\n                ctx: $(v.courseProgressBlock)[0].getContext(\"2d\"),\r\n                graph: {\r\n                    type: \"pie\",\r\n                    data: [0, 0, 0, 0, 0, 0],\r\n                    options: {\r\n                        responsive: true,\r\n                        legend: {position: 'bottom'},\r\n                        maintainAspectRatio: false,\r\n                        aspectRatio: 1,\r\n                        tooltips: {\r\n                            callbacks: {\r\n                                title: function(tooltipItem, data) {\r\n                                    return [\r\n                                        M.util.get_string('cpblocktooltip1',\r\n                                            v.component,\r\n                                            {\r\n                                                \"per\": data.labels[tooltipItem[0].index],\r\n                                            }),\r\n                                        M.util.get_string('cpblocktooltip2',\r\n                                            v.component,\r\n                                            {\r\n                                                \"val\": data.datasets[0].data[tooltipItem[0].index]\r\n                                            })\r\n                                    ];\r\n                                },\r\n                                label: function() {\r\n                                    return '';\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    labels: [\r\n                        M.util.get_string('per20-0', v.component),\r\n                        M.util.get_string('per40-20', v.component),\r\n                        M.util.get_string('per60-40', v.component),\r\n                        M.util.get_string('per80-60', v.component),\r\n                        M.util.get_string('per100-80', v.component),\r\n                        M.util.get_string('per100', v.component)\r\n                    ],\r\n                    backgroundColor: [\"#fe6384\", \"#36a2eb\", \"#fdce56\", \"#cacbd0\", \"#4ac0c0\", \"#ff851b\"]\r\n                }\r\n            };\r\n        },\r\n\r\n        changeExportUrl: v.changeExportUrl,\r\n\r\n        // Get learning program blocks\r\n        getLpStatsBlock: function() {\r\n            var lpStatsBlock = $(v.lpStatsBlock);\r\n            if (lpStatsBlock.length == 0) {\r\n                return false;\r\n            }\r\n\r\n            return {\r\n                ctx: lpStatsBlock[0].getContext(\"2d\"),\r\n                graph: {\r\n                    type: \"pie\",\r\n                    options: {\r\n                        responsive: true,\r\n                        legend: {position: 'bottom'},\r\n                        maintainAspectRatio: false,\r\n                        aspectRatio: 1,\r\n                        tooltips: {\r\n                            callbacks: {\r\n                                label: function(tooltipItem, data) {\r\n                                    return M.util.get_string('lpstatstooltip', v.component, {\r\n                                        label: data.labels[tooltipItem.index],\r\n                                        data: data.datasets[0].data[tooltipItem.index]\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    labels: ['No Users/Courses are available'],\r\n                    data: [0],\r\n                    backgroundColor: [\r\n                        \"#fe6384\", \"#36a2eb\", \"#fdce56\", \"#cacbd0\", \"#4ac0c0\", \"#ff851b\",\r\n                        \"#14b8bc\", \"#39514a\", \"#059143\", \"#435722\", \"#99c979\", \"#04d4e3\",\r\n                        \"#666b54\", \"#e029a1\", \"#808040\", \"#d0926a\", \"#54271a\", \"#e9afdc\",\r\n                        \"#3b4a7d\", \"#79e741\", \"#d4c3b0\", \"#d9c400\", \"#f46e27\", \"#15190c\"\r\n                    ]\r\n                }\r\n            };\r\n        },\r\n        // Function to get panelbody, paneltitle and panelfooter\r\n        getPanel: function(blockid, type) {\r\n            var panel = \"#wdm-edwiserreports \" + blockid;\r\n\r\n            switch (type) {\r\n                case \"body\":\r\n                    panel += \" .panel-body\";\r\n                    break;\r\n                case \"title\":\r\n                    panel += \" .panel-title\";\r\n                    break;\r\n                case \"footer\":\r\n                    panel += \" .panel-footer\";\r\n                    break;\r\n                case \"table\":\r\n                    panel += \" .table\";\r\n                    break;\r\n                case \"loader\":\r\n                    panel += \" .loader\";\r\n                    break;\r\n            }\r\n            return panel;\r\n        },\r\n\r\n        // Function to get Template\r\n        getTemplate: function(template) {\r\n            return \"local_edwiserreports/\" + template;\r\n        },\r\n\r\n        // Get URL Params\r\n        getUrlParams: v.getUrlParams,\r\n\r\n        // Generate URL\r\n        generateUrl: v.generateUrl,\r\n\r\n        // The download function takes a CSV string, the filename and mimeType as parameters\r\n        // Scroll/look down at the bottom of this snippet to see how download is called\r\n        download: function(content, fileName, mimeType) {\r\n            var a = document.createElement('a');\r\n            mimeType = mimeType || 'application/octet-stream';\r\n\r\n            if (navigator.msSaveBlob) { // IE10\r\n                navigator.msSaveBlob(new Blob([content], {\r\n                    type: mimeType\r\n                }), fileName);\r\n            } else if (URL && 'download' in a) { // Html5 A[download]\r\n                a.href = URL.createObjectURL(new Blob([content], {\r\n                    type: mimeType\r\n                }));\r\n                a.setAttribute('download', fileName);\r\n                document.body.appendChild(a);\r\n                a.click();\r\n                document.body.removeChild(a);\r\n            } else {\r\n                location.href = 'data:application/octet-stream,' + encodeURIComponent(content); // Only this mime type is supported\r\n            }\r\n        }\r\n    };\r\n    return defaultConfig;\r\n});\r\n"],"file":"defaultconfig.min.js"}