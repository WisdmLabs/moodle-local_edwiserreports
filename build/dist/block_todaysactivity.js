define(["jquery","core/chartjs","report_elucidsitereport/defaultconfig"],function(d,y,n){return{init:function(){var o,e=n.getPanel("#todaysactivityblock"),i=n.getPanel("#todaysactivityblock","body"),t=e+" #flatpickrCalender";function c(t){var a=d(e).data("sesskey");d.ajax({url:n.requestUrl,type:n.requestType,dataType:n.requestDataType,data:{action:"get_todaysactivity_data_ajax",sesskey:a,data:JSON.stringify({date:t})}}).done(function(t){d.each(t.data,function(t,a){"totalusers"!=t&&d(i+" #todays-"+t).html(a)}),function(t){n.todaysActivityBlock.graph.data=t;t={labels:n.todaysActivityBlock.graph.labels,datasets:[{label:n.todaysActivityBlock.graph.labelName,data:n.todaysActivityBlock.graph.data,backgroundColor:n.todaysActivityBlock.graph.backgroundColor}]};o&&o.destroy();o=new y(n.todaysActivityBlock.ctx,{type:n.todaysActivityBlock.graph.type,options:n.todaysActivityBlock.graph.options,data:t})}(t.data.visitshour)}).fail(function(t){console.log(t)})}d(document).ready(function(){c(),d(t).flatpickr({dateFormat:"d M Y",maxDate:"today",defaultDate:["today"],onChange:function(t,a,o){c(a)}})})}}});