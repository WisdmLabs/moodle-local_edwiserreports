define(["jquery","core/chartjs","report_elucidsitereport/defaultconfig"],function(y,n,s){return{init:function(o){var i,e=s.getPanel("#todaysactivityblock"),d=s.getPanel("#todaysactivityblock","body"),t=e+" #flatpickrCalender";function c(t){var a=y(e).data("sesskey");y.ajax({url:s.requestUrl,type:s.requestType,dataType:s.requestDataType,data:{action:"get_todaysactivity_data_ajax",sesskey:a,data:JSON.stringify({date:t})}}).done(function(t){y.each(t.data,function(t,a){var o=y(d+" #todays-"+t);o.find(".loader").hide(),o.find(".data").html(a)}),function(t){s.todaysActivityBlock.graph.data=t;t={labels:s.todaysActivityBlock.graph.labels,datasets:[{label:s.todaysActivityBlock.graph.labelName,data:s.todaysActivityBlock.graph.data,backgroundColor:s.todaysActivityBlock.graph.backgroundColor}]};i&&i.destroy();i=new n(s.todaysActivityBlock.ctx,{type:s.todaysActivityBlock.graph.type,options:s.todaysActivityBlock.graph.options,data:t})}(t.data.visitshour)}).fail(function(t){console.log(t)}).always(function(){o("todaysActivity")})}y(document).ready(function(){s.todaysActivityBlock=s.getTodaysActivityBlock(),s.todaysActivityBlock?(c(),y(t).flatpickr({dateFormat:"d M Y",maxDate:"today",defaultDate:["today"],onChange:function(t,a,o){y(d).find("loader").show(),c(a)}})):o("todaysActivity")})}}});