define(["jquery","core/notification","core/fragment","core/modal_factory","core/modal_events","report_elucidsitereport/variables","report_elucidsitereport/select2","report_elucidsitereport/jquery.dataTables","report_elucidsitereport/dataTables.bootstrap4"],function(a,i,t,r,n,e){function o(e){var t="#wdm-elucidsitereport > div";e<780?a(t).addClass("col-lg-12"):a(t).removeClass("col-lg-12"),a(document).find(".table.dataTable").DataTable().draw()}a(document).ready(function(){o(a("#page-admin-report-elucidsitereport-index .page-content").width()),a(window).on("resize",function(){o(e.pluginPage.width())}),a(document).on("click",'.export-dropdown a[data-action="email"]',function(e){e.preventDefault();var o=this;r.create({type:r.types.SAVE_CANCEL,title:"Email Dialog Box",body:t.loadFragment("report_elucidsitereport","email_dialog",a(o).data("contextid"),{blockname:a(o).data("blockname")})},a(this)).done(function(e){var t=e.getRoot();t.on(n.hidden,function(){e.destroy()}),t.on(n.save,function(){!function(e,t){a.ajax({url:e.href,type:"POST",data:t.find("form").serialize()}).done(function(e){(e=a.parseJSON(e)).error?i.addNotification({message:e.errormsg,type:"error"}):i.addNotification({message:"Email has been sent",type:"info"})}).fail(function(){i.addNotification({message:"Failed to send the email",type:"error"})})}(o,t)}),e.setSaveButtonText("Send"),e.show()})})})});