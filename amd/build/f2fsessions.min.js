define(["jquery","core/modal_factory","core/modal_events","core/fragment","core/templates","local_sitereport/variables","local_sitereport/common"],(function(e,t,o,r,n,a){return{init:function(t){var o="#wdm-f2fsessions-individual",r=o+" .table",i=o+" .loader",s=e(o).data("sesskey"),c=0;function d(t){e.ajax({url:a.requestUrl,type:a.requestType,dataType:a.requestDataType,data:{action:"get_f2fsession_data_ajax",sesskey:s,data:JSON.stringify({cohortid:t})}}).done((function(t){var a=t.data;a.sesskey=s,n.render("local_sitereport/f2fsessions",a).then((function(e,t){n.replaceNode(o,e,t)})).fail((function(e){console.log(e)})).always((function(){e(r).show(),e(i).hide()}))})).fail((function(e){console.log(e)}))}e(document).ready((function(){d(c),e("#cohortfilter ~ .dropdown-menu .dropdown-item").on("click",(function(){e(r).hide(),e(i).show(),c=e(this).data("cohortid"),a.changeExportUrl(c,a.exportUrlLink,a.cohortReplaceFlag),e("#cohortfilter").html(e(this).text()),d(c)}))}))}}}));