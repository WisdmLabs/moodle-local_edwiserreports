define(["jquery","core/chartjs","report_elucidsitereport/defaultconfig"],(function(t,a,o){return{init:function(i){var e,d=o.getPanel("#todaysactivityblock"),c=o.getPanel("#todaysactivityblock","body"),y=d+" #flatpickrCalender";function n(y){var n=t(d).data("sesskey");t.ajax({url:o.requestUrl,type:o.requestType,dataType:o.requestDataType,data:{action:"get_todaysactivity_data_ajax",sesskey:n,data:JSON.stringify({date:y})}}).done((function(i){t.each(i.data,(function(a,o){var i=t(c+" #todays-"+a);i.find(".loader").hide(),i.find(".data").html(o)})),function(t){o.todaysActivityBlock.graph.data=t;t={labels:o.todaysActivityBlock.graph.labels,datasets:[{label:o.todaysActivityBlock.graph.labelName,data:o.todaysActivityBlock.graph.data,backgroundColor:o.todaysActivityBlock.graph.backgroundColor}]};e&&e.destroy();e=new a(o.todaysActivityBlock.ctx,{type:o.todaysActivityBlock.graph.type,options:o.todaysActivityBlock.graph.options,data:t})}(i.data.visitshour)})).fail((function(t){console.log(t)})).always((function(){i("todaysActivity")}))}t(document).ready((function(){o.todaysActivityBlock=o.getTodaysActivityBlock(),o.todaysActivityBlock?(n(),t(y).flatpickr({dateFormat:"d M Y",maxDate:"today",defaultDate:["today"],onChange:function(a,o,i){t(c).find("loader").show(),n(o)}})):i("todaysActivity")}))}}}));