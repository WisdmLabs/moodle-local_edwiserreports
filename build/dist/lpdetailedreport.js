define(["jquery","core/str","report_elucidsitereport/variables"],function(a,e,t){var n=JSON.stringify({type:"lps"}),l="report_elucidsitereport",o='.lp-table [name^="customReportSelect-"]',r="#wdm-lpdetailedreport",s=a("#wdm-lpdetailedreport-form"),c=e.get_strings([{key:"searchlps",component:l},{key:"nolearningprograms",component:l}]),i=t.requestUrl+"?action=get_customreport_selectors_ajax&sesskey="+M.cfg.sesskey+"&filter="+n;c.then(function(){var e={columns:[{data:"select"},{data:"fullname"},{data:"shortname"},{data:"startdate"},{data:"enddate"},{data:"duration"}],language:{searchPlaceholder:M.util.get_string("searchlps",l),emptyTable:M.util.get_string("nolearningprograms",l)}};a("#wdm-lplist-table").DataTable({ajax:i,columns:e.columns,language:e.language,responsive:!0,scrollY:"250px",scroller:{loadingIndicator:!0},scrollCollapse:!0,scrollX:!0,paging:!1,bInfo:!1,bSort:!1}).columns.adjust(),a(document).on("change",'input[name="selectAllCustom"]',function(e){a(e.target).is(":checked")?a(o).prop("checked",!0):a(o).prop("checked",!1)}),a(document).on("change",'.modal-body input[type="checkbox"]',function(){a(o+":checked").length?a(r).show():(a('input[name="selectAllCustom"]').prop("checked",!1),a(r).hide())}),a(document).on("click",r,function(e){if(!a(o+":checked").length)return a(panel).find("#errorMsg").addClass("show").removeClass("hide"),setTimeout(function(){a(panel).find("#errorMsg").addClass("hide").removeClass("show")},5e3),!1;filters=[],a(o+":checked").each(function(e,t){filters.push(a(t).data("id"))}),s.find("input[name=filters]").val(filters.join(",")),s.submit()})})});